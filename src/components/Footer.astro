---
import { ui, defaultLang } from '../i18n/ui';

function getLangFromUrl(url: URL) {
  const [, lang] = url.pathname.split('/');
  if (lang in ui) return lang as keyof typeof ui;
  return defaultLang;
}

const lang = getLangFromUrl(Astro.url);
const t = ui[lang];

const today = new Date();
---

<footer>
	<div class="copyright">
		&copy; {today.getFullYear()} Enio. All rights reserved.
	</div>
	<div class="links">
		<a href="https://ko-fi.com/brainnoises" target="_blank" rel="noopener noreferrer">{t['footer.kofi']}</a>
		<a href={`/${lang}/${t['nav.about.slug']}`}>{t['nav.about']}</a>
		<a href={`/${lang}/${t['nav.contact.slug']}`}>{t['nav.contact']}</a>
		<a href={`/${lang}/${t['nav.terms.slug']}`}>{t['nav.terms']}</a>
		<a href={`/${lang}/${t['nav.privacy.slug']}`}>{t['nav.privacy']}</a>
	</div>
</footer>
<style>
	footer {
		display: flex;
		flex-direction: row;
		justify-content: space-between;
		align-items: center;
		gap: 1rem;
		margin-top: 2rem;
		padding: 2rem;
		background-color: #000000;
		border-top: 1px solid rgb(var(--gray-dark));
		font-size: var(--text-sm);
		color: rgb(var(--gray));
	}

	.links {
		display: flex;
		gap: 1.5rem;
	}

	.links a {
		color: rgb(var(--gray));
		text-decoration: none;
		transition: color 0.2s ease;
	}

	.links a:hover {
		color: var(--green-bright);
	}
</style>
